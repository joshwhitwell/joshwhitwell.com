class C{constructor(t,r,n,s,M,x,A){this.x=t,this.y=r,this.dir=n,this.size=s,this.color=M,this.behaviors=x,this.behavior=A}}let i,c;const d=100,R=100,m=1,p=4,u=2,z=2;let e,a;const f={"--color-red-400":"oklch(0.704 0.191 22.216)","--color-orange-400":"oklch(0.75 0.183 55.934)","--color-amber-400":"oklch(0.828 0.189 84.429)","--color-yellow-400":"oklch(0.852 0.199 91.936)","--color-lime-400":"oklch(0.841 0.238 128.85)","--color-green-400":"oklch(0.792 0.209 151.711)","--color-emerald-400":"oklch(0.765 0.177 163.223)","--color-teal-400":"oklch(0.777 0.152 181.912)","--color-cyan-400":"oklch(0.789 0.154 211.53)","--color-sky-400":"oklch(0.746 0.16 232.661)","--color-blue-400":"oklch(0.707 0.165 254.624)","--color-indigo-400":"oklch(0.673 0.182 276.935)","--color-violet-400":"oklch(0.702 0.183 293.541)","--color-purple-400":"oklch(0.714 0.203 305.504)","--color-fuchsia-400":"oklch(0.74 0.238 322.16)","--color-pink-400":"oklch(0.718 0.202 349.761)","--color-rose-400":"oklch(0.712 0.194 13.428)","--color-stone-50":"oklch(0.985 0.001 106.423)","--color-stone-100":"oklch(0.97 0.001 106.424)","--color-stone-400":"oklch(0.709 0.01 56.259)","--color-stone-700":"oklch(0.374 0.01 67.558)"},h=Object.keys(f),l={north:{forward:"north",right:"east",left:"west",backward:"south"},east:{forward:"east",right:"south",left:"north",backward:"west"},south:{forward:"south",right:"west",left:"east",backward:"north"},west:{forward:"west",right:"north",left:"south",backward:"east"}},k=Object.keys(l),g=Object.keys(l.north),B=()=>Math.floor(Math.random()*e.width),K=()=>Math.floor(Math.random()*e.height),O=()=>k[Math.floor(Math.random()*k.length)],j=()=>Math.floor(Math.random()*(p-m+1))+m,v=()=>Math.floor(Math.random()*(R-d+1))+d,E=()=>Math.floor(Math.random()*(z-u+1))+u,S=()=>{const o=[],t=E();for(let r=0;r<t;r++){o[r]={};for(let n=0;n<h.length;n++){const s=h[n];o[r][s]={behavior:Math.floor(Math.random()*t),color:h[Math.floor(Math.random()*h.length)],move:Math.floor(Math.random()*g.length)}}}return o},D=o=>{const t=Object.keys(o);return t[Math.floor(Math.random()*t.length)]},I=()=>{const o=S();return new C(B(),K(),O(),j(),v(),o,D(o))},L=()=>{const o=v();for(let t=0;t<o;t++)i.push(I())},F=o=>{typeof c?.[o.x]>"u"&&(c[o.x]={}),typeof c[o.x]?.[o.y]>"u"&&(c[o.x][o.y]=h[0]);const t=c[o.x][o.y];return o.behaviors[o.behavior][t]},G=(o,t)=>{const r=t.move,n=o.dir,s=g[r];l[n]&&l[n][s]&&(o.dir=l[n][s])},q=o=>{switch(o.dir){case"north":o.y=(o.y-1+e.height)%e.height;break;case"south":o.y=(o.y+1)%e.height;break;case"east":o.x=(o.x+1)%e.width;break;case"west":o.x=(o.x-1+e.width)%e.width;break}},H=(o,t)=>{const r=t.color;a.fillStyle=f[r],a.fillRect(o.x,o.y,o.size,o.size),c[o.x][o.y]=r},T=o=>{const t=F(o);H(o,t),G(o,t),q(o),o.behavior=t.behavior},W=()=>{i.forEach(o=>T(o))},w=()=>{e=document.getElementById("antFarmCanvas"),e.width=e.clientWidth,e.height=e.clientHeight,a=e.getContext("2d")},y=()=>{i=[],c={},L()},b=()=>{W(),requestAnimationFrame(b)};window.addEventListener("DOMContentLoaded",()=>{w(),y(),b()});window.addEventListener("resize",()=>{w(),y()});
